Metadata-Version: 2.4
Name: counter
Version: 0.1.0
Summary: People counting (net-state) with YOLO/RF-DETR backends, tracking and evaluation.
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: numpy>=1.24
Requires-Dist: PyYAML>=6.0
Requires-Dist: pydantic>=2.6
Requires-Dist: ultralytics>=8.4.7
Requires-Dist: lap>=0.5.12
Requires-Dist: opencv-python>=4.8
Requires-Dist: opencv-python-headless>=4.8
Requires-Dist: streamlit-image-coordinates>=0.4.0
Provides-Extra: ui
Requires-Dist: streamlit>=1.30; extra == "ui"
Requires-Dist: streamlit-drawable-canvas>=0.9.3; extra == "ui"
Requires-Dist: streamlit-autorefresh>=1.0.1; extra == "ui"
Provides-Extra: eval
Requires-Dist: pandas>=2.0; extra == "eval"
Requires-Dist: matplotlib>=3.7; extra == "eval"
Provides-Extra: predict
Requires-Dist: torch; extra == "predict"
Requires-Dist: rfdetr; extra == "predict"
Provides-Extra: dev
Requires-Dist: pytest>=8.0; extra == "dev"

# counter (refactor scaffold)

This repository contains a clean, OOP-first implementation of:
- `predict`: video -> `counts.json` (+ optional overlay mp4)
- `eval`: compare predicted counts vs GT and produce metrics + charts
- Streamlit UI for comfortable runs

## Quick start (uv)

Create venv:

```bash
uv venv --python 3.11 .venv
source .venv/bin/activate
uv pip install -e ".[ui,eval]"
# on a machine that runs inference:
uv pip install -e ".[predict]"
```

Run UI:

```bash
streamlit run src/counter/ui/app.py
```

Run CLI:

```bash
counter predict --config configs/predict.yaml
counter eval --config configs/eval.yaml --predict-run-dir runs/<id>/predict
counter benchmark --model-ids yolo11m_tuned rfdetr_large_tuned --videos-dir data/videos --gt-dir predictions/csv_gt
```
